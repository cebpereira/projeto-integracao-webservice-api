{"version":3,"sources":["pages/Dados/index.js","components/Header/index.tsx","services/api.js","pages/Landing/index.js","pages/User/index.js","routes.tsx","App.tsx","index.tsx"],"names":["Dados","useState","json","setJson","useEffect","navigator","geolocation","getCurrentPosition","p","latitude","coords","longitude","hora","format","Date","timestamp","console","log","className","src","Header","api","axios","create","baseURL","Landing","id","useParams","history","useHistory","name","university","course","department","score","data","user","setUser","onChange","ev","target","value","get","then","response","onSubmit","preventDefault","date","method","url","push","type","onClick","App","users","setUsers","a","delete","filter","alert","to","map","key","handleDelete","Routes","path","exact","component","User","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4282c901.chunk.js","sourcesContent":["import React,{useState,useEffect} from \"react\";\nimport { format } from 'date-fns';\nimport ReactJson from 'react-json-view'\n\nexport default function Dados() {\n\n  const [json,setJson] = useState(\"\");\n\n  useEffect(()=>{\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(function(p){\n          setJson(\n            {latitude: p.coords.latitude, longitude: p.coords.longitude, hora: format(new Date(p.timestamp), 'HH:mm')})\n      });\n      \n    } else { \n      console.log(\"ERROR\");\n    }\n  }, []);\n\n  return (\n    <div className=\"landing-container\">\n      <div>\n        <ReactJson src={json} />\n      </div>\n       \n    </div>\n  );\n}","import React from 'react';\n\nimport './styles.css';\n\nexport default function Header() {\n  return (\n    <head className=\"header\">\n      <div>\n        <strong>Web Service e API - André e Carlos</strong>\n      </div>\n    </head>\n  );\n}","import axios from \"axios\";\r\n\r\n//url do CRUD\r\nconst api = axios.create({baseURL:'http://localhost:3333/'})\r\n\r\nexport default api;","import React, {useState,useEffect} from \"react\";\nimport Header from '../../components/Header';\nimport {Link, useHistory,useParams} from \"react-router-dom\";\nimport { format } from 'date-fns';\nimport api from '../../services/api';\nimport './styles.css';\n\nexport default function Landing() {\n  const {id} = useParams();\n  const history = useHistory();\n  const initUser={\n    name: '',\n    university: '',\n    course: '',\n    department: '',\n    score: '',\n    data: ''\n  }\n\n  const [user,setUser] = useState(initUser);\n\n  useEffect(()=>{\n    if(id){\n      api.get(`/register/${id}`).then(response=>{\n        setUser(response.data)\n      })\n    }\n  }, []);\n\n  function onSubmit(ev){\n    ev.preventDefault();\n    user.date = format(new Date(), 'dd-MM-yyyy HH:mm:ss')\n    const method = id ? 'put' : 'post';\n    const url = id ? `/register/${id}` : '/register';\n    api[method](url,user).then((response)=>{\n      history.push('/');\n    })\n  }\n\n  function onChange(ev){\n    const {name, value} = ev.target;\n    setUser({...user, [name]:value})\n  }\n\n  return (\n    <div className=\"landing-container\">\n      <Header/>\n      <div>\n        <form onSubmit={onSubmit} className=\"user-form\">\n          \n          <h1>Inserir/Alterar usuário</h1>\n\n            <strong>Nome: </strong>\n            <input name=\"name\" onChange={onChange} value = {user.name}/>\n\n            <strong>Universidade: </strong>\n            <input name=\"university\" onChange={onChange} value = {user.university}/>\n\n            <strong>Curso: </strong>\n            <input name=\"course\" onChange={onChange} value = {user.course}/>\n\n            <strong>Departamento: </strong>\n            <input name=\"department\" onChange={onChange} value = {user.department}/>\n\n            <strong>Score: </strong>\n            <input name=\"score\" onChange={onChange} value = {user.score}/>\n\n            {/* <strong>Data: </strong>\n            <input name=\"date\" onChange={onChange} value = {user.date}/> */}\n                \n            <div className=\"actions\">\n              {/* <Link className=\"button\" id=\"create-link\" type=\"submit\">Salvar</Link> */}\n              <button className=\"button\" type=\"submit\">Salvar</button>\n              <Link className=\"button\" onClick={()=>history.push('/')}>Voltar</Link>\n            </div>\n        </form>\n      </div>  \n    </div>\n  );\n}","import React,{useState, useEffect} from 'react';\r\nimport Header from '../../components/Header';\r\nimport api from '../../services/api';\r\nimport {Link} from \"react-router-dom\";\r\nimport '../User/style.css';\r\n\r\nexport default function App(){\r\n\r\n    const [users, setUsers] = useState([]);\r\n\r\n    useEffect(()=>{\r\n        api.get('register').then(response =>{\r\n            setUsers(response.data);\r\n            console.log(response.data);\r\n        })\r\n\r\n    }, [])\r\n\r\n    async function handleDelete(id){\r\n        try{\r\n            await api.delete(`/register/${id}`)\r\n            setUsers(users.filter(user => user.id !== id))\r\n        }catch(err){\r\n            alert('Erro ao deletar!')\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div id=\"user-container\">\r\n            <Header/>\r\n\r\n            <h1>Lista de usuários</h1>\r\n\r\n            <div className = \"addNew\">\r\n                <Link className=\"button\" id=\"create-link\" to={\"/create\"}>Adicionar novo usuário</Link>\r\n                <Link className=\"button\" id=\"create-link\" to={\"/dados\"}>Gerar JSON</Link>\r\n            </div>\r\n            \r\n            <ul className = \"user-list\">\r\n                {users.map(user =>(\r\n                    <li key = {user.id}>\r\n                        <strong>Nome: </strong>\r\n                        <p>{user.name}</p>\r\n\r\n                        <strong>Universidade: </strong>\r\n                        <p>{user.university}</p>\r\n\r\n                        <strong>Curso: </strong>\r\n                        <p>{user.course}</p>\r\n\r\n                        <strong>Departamento: </strong>\r\n                        <p>{user.department}</p>\r\n\r\n                        <strong>Score: </strong>\r\n                        <p>{user.score}</p>\r\n\r\n                        <strong>Data e hora da inserção: </strong>\r\n                        <p>{user.date}</p>\r\n\r\n                        <div className=\"actions\">\r\n                            <Link className=\"button\" to={`/update/${user.id}`}>Editar</Link>\r\n                            <button className=\"button\" onClick={()=>handleDelete(user.id)} type=\"button\">Deletar</button>\r\n                        </div>\r\n                    </li>\r\n                ) ) } \r\n            </ul>\r\n        </div>\r\n    );\r\n}","import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Dados from './pages/Dados';\nimport Landing from './pages/Landing';\nimport User from './pages/User';\n\n\nexport default function Routes() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/\" exact component={User} />\n        <Route path=\"/create\" exact component={Landing} />\n        <Route path=\"/update/:id\" component={Landing} />\n        <Route path=\"/dados\" component={Dados}/>\n      </Switch>\n    </BrowserRouter>\n  );\n\n}","import React from 'react';\nimport Routes from './routes';\n\nimport 'leaflet/dist/leaflet.css';\nimport './styles/global.css';\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <Routes />\n    </div>\n  );\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}